<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2024-01-05">
<meta name="description" content="How to get my quarto code and data to run my projects yourself.">

<title>Louise E. Sinks - How to Execute the Code on My Blog by Downloading the Quarto File</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-WR4VFC0MC2"></script>

<script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-WR4VFC0MC2', { 'anonymize_ip': true});
</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"implied",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary","functionality","tracking","targeting"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  });
});
</script> 
  


<link rel="stylesheet" href="../../styles.css">
<meta name="twitter:title" content="Louise E. Sinks - How to Execute the Code on My Blog by Downloading the Quarto File">
<meta name="twitter:description" content="How to get my quarto code and data to run my projects yourself.">
<meta name="twitter:image" content="https://lsinks.github.io/posts/2024-01-05-using-my-code/posts-folder-of-repo.png">
<meta name="twitter:creator" content="@LouiseSinks">
<meta name="twitter:image-height" content="338">
<meta name="twitter:image-width" content="605">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Louise E. Sinks</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../portfolio.html" rel="" target="">
 <span class="menu-text">Portfolio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About Me/ CV</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../posts.html" rel="" target="">
 <span class="menu-text">Blog Entries</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../currentprojects.html" rel="" target="">
 <span class="menu-text">Current Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blogroll.html" rel="" target="">
 <span class="menu-text">Blog Roll</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../posts.xml" rel="" target=""><i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#etiquette-and-ethics" id="toc-etiquette-and-ethics" class="nav-link active" data-scroll-target="#etiquette-and-ethics">Etiquette and Ethics</a></li>
  <li><a href="#set-up-considerations" id="toc-set-up-considerations" class="nav-link" data-scroll-target="#set-up-considerations">Set-up Considerations</a>
  <ul class="collapse">
  <li><a href="#libraries" id="toc-libraries" class="nav-link" data-scroll-target="#libraries">Libraries</a></li>
  <li><a href="#file-paths" id="toc-file-paths" class="nav-link" data-scroll-target="#file-paths">File Paths</a></li>
  </ul></li>
  <li><a href="#accessing-the-code" id="toc-accessing-the-code" class="nav-link" data-scroll-target="#accessing-the-code">Accessing the Code</a>
  <ul class="collapse">
  <li><a href="#getting-a-code-chunk" id="toc-getting-a-code-chunk" class="nav-link" data-scroll-target="#getting-a-code-chunk">Getting a Code Chunk</a></li>
  <li><a href="#downloading-an-entire-file" id="toc-downloading-an-entire-file" class="nav-link" data-scroll-target="#downloading-an-entire-file">Downloading an Entire File</a></li>
  <li><a href="#downloading-an-entire-folder" id="toc-downloading-an-entire-folder" class="nav-link" data-scroll-target="#downloading-an-entire-folder">Downloading an Entire Folder</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  <li><a href="#i-just-want-an-.r-file" id="toc-i-just-want-an-.r-file" class="nav-link" data-scroll-target="#i-just-want-an-.r-file">I Just Want an *.R File!</a></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">How to Execute the Code on My Blog by Downloading the Quarto File</h1>
  <div class="quarto-categories">
    <div class="quarto-category">R</div>
    <div class="quarto-category">quarto</div>
    <div class="quarto-category">R-code</div>
    <div class="quarto-category">GitHub</div>
  </div>
  </div>

<div>
  <div class="description">
    How to get my quarto code and data to run my projects yourself.
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p><a href="https://lsinks.github.io/">Louise E. Sinks</a> </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 5, 2024</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">January 5, 2024</p>
    </div>
  </div>
    
  </div>
  

</header>

<p>I’ve said in several places that all my blog posts are fully executable code. I’ve provided a concise summary of how to access the code on my landing page, but I thought these instructions weren’t detailed enough for a novice user. This post will walk through all the ways you can access my code and get it running- from simplest to most complex.</p>
<p>These instructions are for those who use RStudio for their IDE. (If you already have reticulate/ Python set-up in RStudio, then you can also follow the same process for Python-based quarto files. Otherwise, check out the <a href="https://quarto.org/">Quarto documentation</a> for Python projects in your preferred environment.)</p>
<p>I expect you will transform and modify my code for your specific problem, but I recommend ensuring everything runs properly without modifications (other than file paths) first.</p>
<section id="etiquette-and-ethics" class="level2">
<h2 class="anchored" data-anchor-id="etiquette-and-ethics">Etiquette and Ethics</h2>
<p>You can use any of my <strong>code</strong> as you see fit for non-commercial purposes. If you use a lot of it, then I’d appreciate a link or citation in your work if you are publishing/ posting it/ making it available to others. I know “a lot” is vague; I tend to err on the side of giving links for almost everything, which is easily done on a blog. My guidelines for informal writing like my blog are:</p>
<ul>
<li>If I couldn’t have figured it out without the source, then I cite it.</li>
<li>If I’m just copying a line or two of code as the equivalent of looking up syntax for something I know how to do, then I don’t.</li>
</ul>
<p>If I were doing work for school or a job, I would follow the organization’s academic honesty/ citation policies. But generally, you aren’t going to run into trouble being more generous with citations/ link-backs/ credit.</p>
<p>My <strong>text</strong> cannot be republished/ reposted/ made available to others on any site other than mine. Writing generally takes vastly more time and effort than the code does. Small quotes (no more than a few sentences) with proper citations or links are fine, but you may not republish my writing. If, for some reason, you need more than a small quote, contact me via the comments to discuss.</p>
<p>You can use the methods discussed here to acquire code from other quarto blogs and websites published through Git Hub. Please check those sites for usage restrictions, but generally, adhering to the guidelines I’ve requested for my site is likely to be acceptable.</p>
</section>
<section id="set-up-considerations" class="level2">
<h2 class="anchored" data-anchor-id="set-up-considerations">Set-up Considerations</h2>
<p>A few issues might prevent my code from working for you- library versions and file paths.</p>
<section id="libraries" class="level3">
<h3 class="anchored" data-anchor-id="libraries">Libraries</h3>
<p>You and I may have different versions of a library that may lead to failure. I use <a href="https://rstudio.github.io/renv/articles/renv.html"><code>renv</code></a> on my side to track what versions are being used, but <code>renv</code> tracks project-wide. This means it contains information about every package I’d ever used on the blog. There are a lot of packages. I’ve also started including a code block at the top of my blog posts that forces the re-running of that page to use the package versions in the <code>renv</code> snapshot I took before I published the blog post. The code block looks like this:</p>
<p><code>renv::use(lockfile = "renv.lock")</code></p>
<p>You want to delete that, or else running that block will download many unneeded packages.</p>
<p>I don’t have a good solution for making sure you know which version of a library to use. I think this is a situation where this specific use case (building a blog using a project) has advanced beyond the traditional parameters of how a project should be used. I can try manually noting the version number when I load the library going forward, but I can’t promise I will always remember. If you run into problems, comment, and I’ll try to help.</p>
</section>
<section id="file-paths" class="level3">
<h3 class="anchored" data-anchor-id="file-paths">File Paths</h3>
<p>You may need to rewrite the file paths to match the structure in your folders. If I use the here package for file paths, you certainly will need to. here starts the path at the project level- for my blog that is several folders up from the post folder. If I’m not using here, then the path starts at the folder the qmd file is in, and probably will work fine for you. In most cases, I include the data within the blog folder or a subfolder, but there are a few cases where the data is elsewhere. The data could be in a prior blog post or on Git Hub’s large data storage system. I always include information about where the data can be found. Again, if you run into problems, comment, and I’ll try to help.</p>
</section>
</section>
<section id="accessing-the-code" class="level2">
<h2 class="anchored" data-anchor-id="accessing-the-code">Accessing the Code</h2>
<section id="getting-a-code-chunk" class="level3">
<h3 class="anchored" data-anchor-id="getting-a-code-chunk">Getting a Code Chunk</h3>
<p>Any executable code appears on the blog post inside a light gray box. If you mouse over the box, a clipboard appears in the right-hand corner.</p>
<p><img src="clipboard_for_code_block.png" class="img-fluid" alt="A screenshot of a page of my blog. The mouse has been moved over a grey code block to reveal the copy tool in the upper right corner. This clipboard is circled in blue."></p>
</section>
<section id="downloading-an-entire-file" class="level3">
<h3 class="anchored" data-anchor-id="downloading-an-entire-file">Downloading an Entire File</h3>
<p>Suppose you want all the code? You could cut and paste each code block, but it is probably easier just to download the entire file. My blog entries always use the date for the first part of the folder name, so you can go to the <a href="https://github.com/lsinks/lsinks.github.io/tree/main/posts">“posts” section of the GitHub repo for my blog</a> and download the file. This method works best for projects where data comes from a single file or is imported from the internet.</p>
<p>You do not need a GitHub account to view my repo or download files, so don’t make an account just for this.</p>
<p>Here is the posts folder of my repo:</p>
<p><img src="posts-folder-of-repo.png" class="img-fluid" alt="A screenshot of a subfolder of a GitHub repo with a bunch of folders named by date"></p>
<p>Click into a folder, and you’ll see some files. In the simplest case, it will be a *.qmd file and an image file. The image file is unlikely to be relevant to the code; it is probably the image used to make the thumbnail on the blog listing page. In later blog posts, it is almost always called thumbnail. This file can be ignored.</p>
<p>This screenshot is of the folder for my first TidyTuesday project. The thumbnail image is named “pop-lang-by-token.png”, but it is the thumbnail and can be ignored.</p>
<p><img src="tidy-tuesday-folder.png" class="img-fluid"></p>
<p>The GitHub web interface doesn’t have a way to download multiple files or subfolders, so you’ll need to click on each file, and then you’ll get a screen with the file and a download button.</p>
<p><img src="download_button_in_github.png" class="img-fluid" alt="A screenshot of Github after clicking on index.qmd. A download button has appeared in the upper right corner and is circled in blue"></p>
<p>You can now open RStudio, go to file, open file, and open this file. You probably want to delete most of the YAML header; this contains instructions on how to render the *.qmd file into HTML and information specific to me and my blog.</p>
<p>Here is a YAML header for my classification project.</p>
<p><code>title: "Credit Card Fraud: A Tidymodels Tutorial"</code></p>
<p><code>description: "An Imbalanced Class Problem"</code></p>
<p><code>twitter-card:</code></p>
<p><code>image: "thumbnail.png"</code></p>
<p><code>date: 04-11-2023</code></p>
<p><code>date-modified: last-modified</code></p>
<p><code>categories: [R, R-code, tidymodels, machine learning, classifiers] # self-defined categories</code></p>
<p><code>citation:</code></p>
<p><code>URL: https://lsinks.github.io/posts/2023-04-11-credit-card-fraud/fraud_tutorial.html</code></p>
<p><code>image: "thumbnail.png"</code></p>
<p><code>draft: false # setting this to true will prevent your post from appearing on your listing page until you're ready!</code></p>
<p>Delete everything but the title. (Keep the - - - at the top and bottom that separate the YAML header from the rest of the post. At the top left of RStudio’s tab of this file is a toggle for Source or Visual. Visual is probably easier to use; it makes the text part look like a normal text editor.</p>
<p><img src="source-visual.png" class="img-fluid" alt="A screen shot of the RStudio IDE. The source/ visual toggle in the upper left corner is circles in blue"></p>
<p>Each code block has a run button and a “run up to this block” button. A set of global run options is also at the top of the pane. The render button will also execute the code but will not populate the environment with any variables. This isn’t what you want!</p>
<p><img src="run_button.png" class="img-fluid" alt="A screen shot of the RStudio IDE. The code cell run button and the global run button are circled in blue."></p>
<p>You probably want to step through the file, delete text you don’t need, and/or follow the links I provided to explain individual code blocks. (But see the end of this post if you don’t want any text!)</p>
</section>
<section id="downloading-an-entire-folder" class="level3">
<h3 class="anchored" data-anchor-id="downloading-an-entire-folder">Downloading an Entire Folder</h3>
<p>Some projects contain multiple data files or subfolders with data. While you could download them one by one, it is easy to use the <a href="https://minhaskamal.github.io/DownGit/#/home">DownGit tool by minhaskamal.github.io</a>. Again, you do not need a GitHub account to use this.</p>
<p><img src="down_git.png" class="img-fluid" alt="A screenshot of the down_git page with the URL for the GitHub subfolder with my credit card fraud tutorial."></p>
<p>This will download a zip file of the folder and its contents, including subfolders. Extract all. You can rename the top-level folder if you wish. It will be named what my blog folder was named; in this case, “2023-04-11-credit-card-fraud”.</p>
<p>Open RStudio, select the file, new project, and then create the project from the existing directory and select the folder you just extracted by double-clicking it in the file selector. You should then be able to work with the code and data normally inside RStudio. RStudio might prompt you to install some packages.</p>
<p>Again, I recommend running the code chunk by chunk so you can make sure everything works. In this particular example, I also recommend reducing the complexity of the fitting. Maybe reduce the folds to 2 and the grid search to 2 and comment out a few of the methods in the workflowset. Details of how long each method took me to run on my laptop are found in <a href="https://lsinks.github.io/posts/2023-04-11-credit-card-fraud/fraud_tutorial.html#fitting-all-the-models">my original classification blog post</a>. It wasn’t quick, especially the random forest workflows.</p>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>I think Quarto is a fantastic format to write code. Even stuff I wrote as regular R code/ projects, I migrated over to Quarto. The hybrid text/code format allows much more detailed descriptions than you’d ever want to put in code comments. As a learner, I think it is an awesome tool to accelerate your skills. Downloading a template project like my classification model can speed up your projects. Using Quarto even for your private projects is very useful. It becomes both a coding and notetaking system. Throw in links and explanations for your code block when you learn something new or encounter something you don’t quite understand. Future you will thank you when 6 months later when you think “I really want to do blah, and I think I ran across a great reference when I was working on project y” and then you can pull it up.</p>
</section>
<section id="i-just-want-an-.r-file" class="level2">
<h2 class="anchored" data-anchor-id="i-just-want-an-.r-file">I Just Want an *.R File!</h2>
<p>You read my conclusion and aren’t persuaded that Quarto is a valuable format. Luckily, you can <a href="https://github.com/quarto-dev/quarto-cli/discussions/7683">easily extract the code only</a> and have a nice, clean, narrative-free R file to work with.</p>
<p>Once you have the *.qmd file, use the following code <code>knitr::purl("file_path\file.qmd")</code> in the RStudio console to produce an R file with code only. This <a href="https://bookdown.org/yihui/rmarkdown-cookbook/purl.html">conversion also works with rmarkdown files</a>. (Technically, it worked with markdown first, since <a href="https://quarto.org/docs/computations/r.html#:~:text=Quarto%20is%20a%20multi%2Dlanguage,existing%20Rmd%20files%20without%20modification.">Quarto uses knitr to render R code</a>.)</p>
</section>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"></h2>


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{sinks2024,
  author = {Sinks, Louise E.},
  title = {How to {Execute} the {Code} on {My} {Blog} by {Downloading}
    the {Quarto} {File}},
  date = {2024-01-05},
  url = {https://lsinks.github.io/posts/2024-01-05-using-my-code/using_quarto_code.html},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-sinks2024" class="csl-entry quarto-appendix-citeas" role="listitem">
Sinks, Louise E. 2024. <span>“How to Execute the Code on My Blog by
Downloading the Quarto File.”</span> January 5, 2024. <a href="https://lsinks.github.io/posts/2024-01-05-using-my-code/using_quarto_code.html">https://lsinks.github.io/posts/2024-01-05-using-my-code/using_quarto_code.html</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://utteranc.es/client.js" repo="lsinks/blog-comments" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center"><div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>