{
  "hash": "74fff1b3b7bd56420854cb20f21f9e19",
  "result": {
    "markdown": "---\ntitle: \"TidyTuesday Week 19: Portal Project\"\ndescription: \"TidyTuesday: Rodents of Portal Arizona\"\ntwitter-card:\n  image: \"thumbnail.png\"\nauthor:\n  - name: Louise E. Sinks\n    url: https://lsinks.github.io/\ndate: 05-09-2023\ncategories: [R, TidyTuesday, R-code, Code-Along, Data-Viz, data validation, exploratory data analysis] # self-defined categories\ncitation:\n  url: https://lsinks.github.io/posts/2023-05-09-tidytuesday-childcare/childcare \nimage: \"thumbnail.png\"\ndraft: true # setting this to `true` will prevent your post from appearing on your listing page until you're ready!\n---\n\n\nToday's TidyTuesday is about childcare prices.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.1     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(gt)\nlibrary(skimr)\n```\n:::\n\n\nLoading the data in the usual way.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntuesdata <- tidytuesdayR::tt_load(2023, week = 19)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n--- Compiling #TidyTuesday Information for 2023-05-09 ----\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n--- There are 2 files available ---\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n--- Starting Download ---\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tDownloading file 1 of 2: `childcare_costs.csv`\n\tDownloading file 2 of 2: `counties.csv`\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n--- Download complete ---\n```\n:::\n\n```{.r .cell-code}\nchildcare_costs <- tuesdata$childcare_costs\ncounties <- tuesdata$counties\n```\n:::\n\n\nThere are two data files. The dataframe counties has information about county and state, while childcare_costs has a variety of economic data for each county over several years (2008 - 2018). The two dataframes can be joined on county_fips_code, which is a unique identifier for every county. If you look at the TidyTuesday notes, they actually started out in a single file and were split up.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlabor_rates <- childcare_costs %>%\n  select(study_year, county_fips_code, flfpr_20to64, flfpr_20to64_under6, mc_infant, mfcc_infant )\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlabor_rates_2 <- labor_rates %>%\n  left_join(counties)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nJoining with `by = join_by(county_fips_code)`\n```\n:::\n:::\n\n::: {.cell .column-page}\n\n```{.r .cell-code}\nmy_skim <- skim_with(numeric = sfl(p25 = NULL, p50 = NULL, p75 = NULL)) \n\nmy_skim(labor_rates_2)\n```\n\n::: {.cell-output-display}\nTable: Data summary\n\n|                         |              |\n|:------------------------|:-------------|\n|Name                     |labor_rates_2 |\n|Number of rows           |34567         |\n|Number of columns        |9             |\n|_______________________  |              |\n|Column type frequency:   |              |\n|character                |3             |\n|numeric                  |6             |\n|________________________ |              |\n|Group variables          |None          |\n\n\n**Variable type: character**\n\n|skim_variable      | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:------------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|county_name        |         0|             1|  10|  33|     0|     1879|          0|\n|state_name         |         0|             1|   4|  20|     0|       51|          0|\n|state_abbreviation |         0|             1|   2|   2|     0|       51|          0|\n\n\n**Variable type: numeric**\n\n|skim_variable       | n_missing| complete_rate|     mean|       sd|      p0|     p100|hist  |\n|:-------------------|---------:|-------------:|--------:|--------:|-------:|--------:|:-----|\n|study_year          |         0|          1.00|  2013.00|     3.16| 2008.00|  2018.00|▇▆▅▅▅ |\n|county_fips_code    |         0|          1.00| 30388.13| 15161.02| 1001.00| 56045.00|▃▇▆▅▇ |\n|flfpr_20to64        |         0|          1.00|    70.09|     7.70|   33.60|   100.00|▁▁▇▅▁ |\n|flfpr_20to64_under6 |         0|          1.00|    68.82|    11.76|    0.00|   100.00|▁▁▂▇▂ |\n|mc_infant           |     10974|          0.68|   146.05|    53.70|   27.73|   470.00|▅▇▂▁▁ |\n|mfcc_infant         |     11184|          0.68|   113.42|    32.82|   43.08|   430.94|▇▅▁▁▁ |\n:::\n:::\n\n\nEmployment gap between all women and women with young children\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlabor_rates_2 <- labor_rates_2 %>%\n  mutate(gap = flfpr_20to64 - flfpr_20to64_under6)\n```\n:::\n\n\naverage cost of infant care\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlabor_rates_2 <- labor_rates_2 %>%\n  mutate(cost = (mc_infant + mfcc_infant)/2)\n```\n:::\n\n\nplot gap vs. cost for 2018\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlabor_rates_2 %>%\n # filter(study_year == 2018) %>%\n  ggplot(aes(cost, gap, color = study_year)) +\n  geom_point() + geom_smooth()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using method = 'gam' and formula = 'y ~ s(x, bs = \"cs\")'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 11225 rows containing non-finite values (`stat_smooth()`).\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: The following aesthetics were dropped during statistical transformation: colour\nℹ This can happen when ggplot fails to infer the correct grouping structure in\n  the data.\nℹ Did you forget to specify a `group` aesthetic or to convert a numerical\n  variable into a factor?\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: Removed 11225 rows containing missing values (`geom_point()`).\n```\n:::\n\n::: {.cell-output-display}\n![](childcare_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\ncorrelation\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlabor_rates_2_2018 <- labor_rates_2 %>%\n filter(study_year == 2018)\ncor(labor_rates_2_2018$gap, labor_rates_2_2018$cost, use = \"pairwise.complete.obs\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.1478173\n```\n:::\n:::\n",
    "supporting": [
      "childcare_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}