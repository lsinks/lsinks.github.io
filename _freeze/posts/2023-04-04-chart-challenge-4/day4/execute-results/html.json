{
  "hash": "343db78f479e7685560cd194ba956a53",
  "result": {
    "markdown": "---\ntitle: \"30 Day Chart Challenge- Endangered Species\"\ndescription: \"How many species have been delisted?\"\ntwitter-card:\n  image: \"thumbnail.png\"\ndate: 04-04-2023\ndate-modified: last-modified\ncategories: [R, R-code, code-along, 30DayChartChallenge, waffle] # self-defined categories\ncitation:\n  url: https://lsinks.github.io/posts/2023-04-04-chart-challenge-4/day4.html\nimage: \"thumbnail.png\"\ndraft: false # setting this to `true` will prevent your post from appearing on your listing page until you're ready!\n---\n\n\nIt is Day 4 of the #30DayChartChallenge. More info can be found at the [challenge's Github page](https://github.com/30DayChartChallenge/Edition2023). Today's theme is history. But this is a subtheme of \"comparisions\", so I'd like to avoid doing a simple time series.\n\nI decided to look at the [endangered species list](https://ecos.fws.gov/ecp/report/species) the US Fish and Wildlife Service maintains. They have a bunch of data spread over multiple tables. I decided to look at the 5 year review data. A 5 year review is the assessment to decide if a species remains list or delisted. The dataset also contains the year the species was first listed. So I'd like to compare how many species have been listed vs. delisted.\n\nThe key to the different listing types is found [here](https://ecos.fws.gov/ecp0/html/db-status.html).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(gt)\nlibrary(skimr)\nlibrary(waffle)\n```\n:::\n\n\nToday, I'm was going to load the data directly from the website. I've been downloading it and reading it in from a local folder, but I thought it would be nice to download directly. However, the data uses a \"blob:\" url, which is [not donwloadable directly](https://stackoverflow.com/questions/66609070/is-there-a-way-to-download-file-in-r-from-a-blob-url). There is a [way around this](https://stackoverflow.com/questions/72922306/how-to-download-csv-from-url-starting-with-blobhttps) but then you have to process some JSON data. I\"ll come back to this later, but for now, I'm just going to use a csv.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nendangered_df <- read_csv(\"five_year.csv\", show_col_types = FALSE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nendangered_df_sub <- endangered_df %>%\n  select(name = `Common Name`, \n         status = `ESA Listing Status`, \n         date = `Listing Date`,\n         rec = `5YSR Recommendation`)\n```\n:::\n\n\nLet's see what kind of categories we have.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nendangered_df_sub <- endangered_df_sub %>%\n  mutate(status = factor(status), rec = factor(rec))\n```\n:::\n\n\nSkim this bad boy.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nskim(endangered_df_sub) %>% gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"tiymftctsq\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#tiymftctsq table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#tiymftctsq thead, #tiymftctsq tbody, #tiymftctsq tfoot, #tiymftctsq tr, #tiymftctsq td, #tiymftctsq th {\n  border-style: none;\n}\n\n#tiymftctsq p {\n  margin: 0;\n  padding: 0;\n}\n\n#tiymftctsq .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#tiymftctsq .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#tiymftctsq .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#tiymftctsq .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#tiymftctsq .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#tiymftctsq .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tiymftctsq .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#tiymftctsq .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#tiymftctsq .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#tiymftctsq .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#tiymftctsq .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#tiymftctsq .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#tiymftctsq .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#tiymftctsq .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#tiymftctsq .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#tiymftctsq .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#tiymftctsq .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#tiymftctsq .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#tiymftctsq .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tiymftctsq .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#tiymftctsq .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#tiymftctsq .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#tiymftctsq .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tiymftctsq .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#tiymftctsq .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#tiymftctsq .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tiymftctsq .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tiymftctsq .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#tiymftctsq .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tiymftctsq .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#tiymftctsq .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#tiymftctsq .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#tiymftctsq .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tiymftctsq .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#tiymftctsq .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#tiymftctsq .gt_left {\n  text-align: left;\n}\n\n#tiymftctsq .gt_center {\n  text-align: center;\n}\n\n#tiymftctsq .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#tiymftctsq .gt_font_normal {\n  font-weight: normal;\n}\n\n#tiymftctsq .gt_font_bold {\n  font-weight: bold;\n}\n\n#tiymftctsq .gt_font_italic {\n  font-style: italic;\n}\n\n#tiymftctsq .gt_super {\n  font-size: 65%;\n}\n\n#tiymftctsq .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#tiymftctsq .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#tiymftctsq .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#tiymftctsq .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#tiymftctsq .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#tiymftctsq .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#tiymftctsq .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"skim_type\">skim_type</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"skim_variable\">skim_variable</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"n_missing\">n_missing</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"complete_rate\">complete_rate</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"character.min\">character.min</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"character.max\">character.max</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"character.empty\">character.empty</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"character.n_unique\">character.n_unique</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"character.whitespace\">character.whitespace</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"factor.ordered\">factor.ordered</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"factor.n_unique\">factor.n_unique</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"factor.top_counts\">factor.top_counts</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"numeric.mean\">numeric.mean</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"numeric.sd\">numeric.sd</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"numeric.p0\">numeric.p0</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"numeric.p25\">numeric.p25</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"numeric.p50\">numeric.p50</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"numeric.p75\">numeric.p75</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"numeric.p100\">numeric.p100</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"numeric.hist\">numeric.hist</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"skim_type\" class=\"gt_row gt_left\">character</td>\n<td headers=\"skim_variable\" class=\"gt_row gt_left\">name</td>\n<td headers=\"n_missing\" class=\"gt_row gt_right\">0</td>\n<td headers=\"complete_rate\" class=\"gt_row gt_right\">1</td>\n<td headers=\"character.min\" class=\"gt_row gt_right\">3</td>\n<td headers=\"character.max\" class=\"gt_row gt_right\">51</td>\n<td headers=\"character.empty\" class=\"gt_row gt_right\">0</td>\n<td headers=\"character.n_unique\" class=\"gt_row gt_right\">1159</td>\n<td headers=\"character.whitespace\" class=\"gt_row gt_right\">0</td>\n<td headers=\"factor.ordered\" class=\"gt_row gt_center\">NA</td>\n<td headers=\"factor.n_unique\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"factor.top_counts\" class=\"gt_row gt_left\">NA</td>\n<td headers=\"numeric.mean\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"numeric.sd\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"numeric.p0\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"numeric.p25\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"numeric.p50\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"numeric.p75\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"numeric.p100\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"numeric.hist\" class=\"gt_row gt_left\">NA</td></tr>\n    <tr><td headers=\"skim_type\" class=\"gt_row gt_left\">factor</td>\n<td headers=\"skim_variable\" class=\"gt_row gt_left\">status</td>\n<td headers=\"n_missing\" class=\"gt_row gt_right\">0</td>\n<td headers=\"complete_rate\" class=\"gt_row gt_right\">1</td>\n<td headers=\"character.min\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"character.max\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"character.empty\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"character.n_unique\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"character.whitespace\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"factor.ordered\" class=\"gt_row gt_center\">FALSE</td>\n<td headers=\"factor.n_unique\" class=\"gt_row gt_right\">8</td>\n<td headers=\"factor.top_counts\" class=\"gt_row gt_left\">E: 1173, T: 316, DM: 35, DNS: 3</td>\n<td headers=\"numeric.mean\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"numeric.sd\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"numeric.p0\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"numeric.p25\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"numeric.p50\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"numeric.p75\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"numeric.p100\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"numeric.hist\" class=\"gt_row gt_left\">NA</td></tr>\n    <tr><td headers=\"skim_type\" class=\"gt_row gt_left\">factor</td>\n<td headers=\"skim_variable\" class=\"gt_row gt_left\">rec</td>\n<td headers=\"n_missing\" class=\"gt_row gt_right\">0</td>\n<td headers=\"complete_rate\" class=\"gt_row gt_right\">1</td>\n<td headers=\"character.min\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"character.max\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"character.empty\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"character.n_unique\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"character.whitespace\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"factor.ordered\" class=\"gt_row gt_center\">FALSE</td>\n<td headers=\"factor.n_unique\" class=\"gt_row gt_right\">7</td>\n<td headers=\"factor.top_counts\" class=\"gt_row gt_left\">No : 1389, Del: 49, Dow: 40, Del: 27</td>\n<td headers=\"numeric.mean\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"numeric.sd\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"numeric.p0\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"numeric.p25\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"numeric.p50\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"numeric.p75\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"numeric.p100\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"numeric.hist\" class=\"gt_row gt_left\">NA</td></tr>\n    <tr><td headers=\"skim_type\" class=\"gt_row gt_left\">numeric</td>\n<td headers=\"skim_variable\" class=\"gt_row gt_left\">date</td>\n<td headers=\"n_missing\" class=\"gt_row gt_right\">0</td>\n<td headers=\"complete_rate\" class=\"gt_row gt_right\">1</td>\n<td headers=\"character.min\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"character.max\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"character.empty\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"character.n_unique\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"character.whitespace\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"factor.ordered\" class=\"gt_row gt_center\">NA</td>\n<td headers=\"factor.n_unique\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"factor.top_counts\" class=\"gt_row gt_left\">NA</td>\n<td headers=\"numeric.mean\" class=\"gt_row gt_right\">1993.5</td>\n<td headers=\"numeric.sd\" class=\"gt_row gt_right\">12.4735</td>\n<td headers=\"numeric.p0\" class=\"gt_row gt_right\">1967</td>\n<td headers=\"numeric.p25\" class=\"gt_row gt_right\">1987</td>\n<td headers=\"numeric.p50\" class=\"gt_row gt_right\">1993</td>\n<td headers=\"numeric.p75\" class=\"gt_row gt_right\">1999</td>\n<td headers=\"numeric.p100\" class=\"gt_row gt_right\">2017</td>\n<td headers=\"numeric.hist\" class=\"gt_row gt_left\">▂▃▇▂▃</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nrec\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(endangered_df_sub$rec)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                    Delist: The listed entity does not meet the statutory definition of a species \n                                                                                                8 \nDelist: The species does not meet the definition of an endangered species or a threatened species \n                                                                                               49 \n                                                                   Delist: The species is extinct \n                                                                                               27 \n                                                                                    Downlist to T \n                                                                                               40 \n                                                                              No change in Status \n                                                                                             1389 \n                                                                        Revision of listed entity \n                                                                                                2 \n                                                                                      Uplist to E \n                                                                                               18 \n```\n:::\n:::\n\n\nThe recommendations don't always match the current status. I'm assuming the recommendations will be enacted/adopted eventually, so I am using them as the correct current status.\n\nWe have 7 levels in recommendations. We need to consolidate them. I'm going to combine \"Delist: The listed entity does not meet the statutory definition of a species\" and \"Delist: The species does not meet the definition of an endangered species or a threatened species\" into a level called delisted. The delisting because the species is extinct will be made into a level called extinct later.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nendangered_df_sub <- endangered_df_sub %>%\n  mutate(condensed = fct_collapse(rec, delisted = c(\"Delist: The listed entity does not meet the statutory definition of a species\",\n    \"Delist: The species does not meet the definition of an endangered species or a threatened species\")\n  ))\n```\n:::\n\n\nI'm going to count both \"Downlist to threatened\" and \"uplist to Endangered\" as endangered. I don't know the original listing level, so it doesn't make too much difference to me.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nendangered_df_sub <- endangered_df_sub %>%\n  mutate(condensed = fct_collapse(condensed, endangered = c(\"Downlist to T\",\n    \"Uplist to E\")  ))\n```\n:::\n\n\nNow, I'm pulling in the status for the entries that have \"No change in Status\" as the recommendation. I'm using a case_when and listing every combination. I could get this done if fewer lines if I used or statements (E or T is endangered), but I left it more granular in case I wanted to come back and change the levels. Maybe later I do care about the different between threatened and endangered and want to break them out separately.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nendangered_df_sub <- endangered_df_sub %>%\n  mutate(condensed = case_when(\n    condensed == \"No change in Status\" & status == \"E\" ~ \"endangered\",\n    condensed == \"No change in Status\" & status == \"T\" ~ \"endangered\",\n    condensed == \"No change in Status\" & status == \"RT\" ~ \"delisted\",\n    condensed == \"No change in Status\" & status == \"D3A\" ~ \"extinct\",\n    condensed == \"No change in Status\" & status == \"DM\" ~ \"delisted\",\n    condensed == \"No change in Status\" & status == \"DP\" ~ \"delisted\",\n    condensed == \"No change in Status\" & status == \"DR\" ~ \"delisted\",\n    condensed == \"No change in Status\" & status == \"DNS\" ~ \"delisted\",\n    condensed != \"No change in Status\" ~ condensed)\n    )\n```\n:::\n\n\nNow I'm going to group my extincts.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nendangered_df_sub <- endangered_df_sub %>%\n  mutate(condensed = \n           fct_collapse(condensed, extinct = \n                          c(\"Delist: The species is extinct\", \"extinct\")))\n```\n:::\n\n\nI'm not sure what : Revision of listed entity means. I'm going to see if there are comments back in the full dataset.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nendangered_df %>% \n  filter(`5YSR Recommendation` == \"Revision of listed entity\") %>% gt()\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"jnmlwwwlgu\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#jnmlwwwlgu table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#jnmlwwwlgu thead, #jnmlwwwlgu tbody, #jnmlwwwlgu tfoot, #jnmlwwwlgu tr, #jnmlwwwlgu td, #jnmlwwwlgu th {\n  border-style: none;\n}\n\n#jnmlwwwlgu p {\n  margin: 0;\n  padding: 0;\n}\n\n#jnmlwwwlgu .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#jnmlwwwlgu .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#jnmlwwwlgu .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#jnmlwwwlgu .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#jnmlwwwlgu .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jnmlwwwlgu .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jnmlwwwlgu .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jnmlwwwlgu .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#jnmlwwwlgu .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#jnmlwwwlgu .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#jnmlwwwlgu .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#jnmlwwwlgu .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#jnmlwwwlgu .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#jnmlwwwlgu .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#jnmlwwwlgu .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#jnmlwwwlgu .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#jnmlwwwlgu .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#jnmlwwwlgu .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#jnmlwwwlgu .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jnmlwwwlgu .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#jnmlwwwlgu .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#jnmlwwwlgu .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#jnmlwwwlgu .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jnmlwwwlgu .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#jnmlwwwlgu .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#jnmlwwwlgu .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jnmlwwwlgu .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jnmlwwwlgu .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#jnmlwwwlgu .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jnmlwwwlgu .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#jnmlwwwlgu .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jnmlwwwlgu .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jnmlwwwlgu .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jnmlwwwlgu .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jnmlwwwlgu .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jnmlwwwlgu .gt_left {\n  text-align: left;\n}\n\n#jnmlwwwlgu .gt_center {\n  text-align: center;\n}\n\n#jnmlwwwlgu .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#jnmlwwwlgu .gt_font_normal {\n  font-weight: normal;\n}\n\n#jnmlwwwlgu .gt_font_bold {\n  font-weight: bold;\n}\n\n#jnmlwwwlgu .gt_font_italic {\n  font-style: italic;\n}\n\n#jnmlwwwlgu .gt_super {\n  font-size: 65%;\n}\n\n#jnmlwwwlgu .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#jnmlwwwlgu .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#jnmlwwwlgu .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#jnmlwwwlgu .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#jnmlwwwlgu .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#jnmlwwwlgu .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#jnmlwwwlgu .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Scientific Name\">Scientific Name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Common Name\">Common Name</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Where Listed\">Where Listed</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"ESA Listing Status\">ESA Listing Status</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Lead Region\">Lead Region</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Listing Date\">Listing Date</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Most Recently Completed 5YSR\">Most Recently Completed 5YSR</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"5YSR Recommendation\">5YSR Recommendation</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Notice of In Progress 5YSR\">Notice of In Progress 5YSR</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Notice Date of In Progress 5YSR\">Notice Date of In Progress 5YSR</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Group\">Group</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Scientific Name\" class=\"gt_row gt_left\">Rangifer tarandus ssp. caribou</td>\n<td headers=\"Common Name\" class=\"gt_row gt_left\">Caribou DPS, Southern Mountain</td>\n<td headers=\"Where Listed\" class=\"gt_row gt_left\">&lt;div&gt;Southern Mountain DPS&lt;/div&gt;</td>\n<td headers=\"ESA Listing Status\" class=\"gt_row gt_left\">E</td>\n<td headers=\"Lead Region\" class=\"gt_row gt_right\">1</td>\n<td headers=\"Listing Date\" class=\"gt_row gt_right\">1983</td>\n<td headers=\"Most Recently Completed 5YSR\" class=\"gt_row gt_right\">2019-10-02</td>\n<td headers=\"5YSR Recommendation\" class=\"gt_row gt_left\">Revision of listed entity</td>\n<td headers=\"Notice of In Progress 5YSR\" class=\"gt_row gt_left\">No Five Year Review In Progress</td>\n<td headers=\"Notice Date of In Progress 5YSR\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"Group\" class=\"gt_row gt_left\">Mammals</td></tr>\n    <tr><td headers=\"Scientific Name\" class=\"gt_row gt_left\">Cereus eriophorus var. fragrans</td>\n<td headers=\"Common Name\" class=\"gt_row gt_left\">Prickly-apple, fragrant</td>\n<td headers=\"Where Listed\" class=\"gt_row gt_left\">&lt;div&gt;&lt;/div&gt;</td>\n<td headers=\"ESA Listing Status\" class=\"gt_row gt_left\">E</td>\n<td headers=\"Lead Region\" class=\"gt_row gt_right\">4</td>\n<td headers=\"Listing Date\" class=\"gt_row gt_right\">1985</td>\n<td headers=\"Most Recently Completed 5YSR\" class=\"gt_row gt_right\">2021-10-19</td>\n<td headers=\"5YSR Recommendation\" class=\"gt_row gt_left\">Revision of listed entity</td>\n<td headers=\"Notice of In Progress 5YSR\" class=\"gt_row gt_left\">No Five Year Review In Progress</td>\n<td headers=\"Notice Date of In Progress 5YSR\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"Group\" class=\"gt_row gt_left\">Flowering Plants</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nI'm not seeing any explanation. There is not an entry in the code key either.\n\nOkay, now for a visualization. This actually seems perfect for a waffle. I've had [bad luck with the waffle package](https://lsinks.github.io/posts/2023-04-02-chart-challenge-2/parks.html), but know how to make it output something now. So, I will try waffling again. I did try a different package (ggwaffle) that also doesn't work. It does let you use a dataframe, but it also doesn't handle large numbers well. It soes let you downsample the data if the numbers are too large, but I'd rather just process the data myself to make it waffle.\n\nSo, first I need to summarize the data to get the counts per class.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprogress <- endangered_df_sub %>%\n  count(condensed)\n\nprogress %>% \n  gt() %>%\n  cols_label(condensed = \"Status\", n = \"Number of species\") %>%\n  opt_stylize(style = 6, color = \"blue\", add_row_striping = TRUE) %>%\n  tab_header(title = \"Progess of Endangered/Threatened species\")\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"eqgwchoroj\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#eqgwchoroj table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#eqgwchoroj thead, #eqgwchoroj tbody, #eqgwchoroj tfoot, #eqgwchoroj tr, #eqgwchoroj td, #eqgwchoroj th {\n  border-style: none;\n}\n\n#eqgwchoroj p {\n  margin: 0;\n  padding: 0;\n}\n\n#eqgwchoroj .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #5F5F5F;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#eqgwchoroj .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#eqgwchoroj .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#eqgwchoroj .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#eqgwchoroj .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#eqgwchoroj .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n}\n\n#eqgwchoroj .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #5F5F5F;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#eqgwchoroj .gt_col_heading {\n  color: #FFFFFF;\n  background-color: #0076BA;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#eqgwchoroj .gt_column_spanner_outer {\n  color: #FFFFFF;\n  background-color: #0076BA;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#eqgwchoroj .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#eqgwchoroj .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#eqgwchoroj .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#eqgwchoroj .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#eqgwchoroj .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #5F5F5F;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#eqgwchoroj .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #5F5F5F;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n  vertical-align: middle;\n}\n\n#eqgwchoroj .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#eqgwchoroj .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#eqgwchoroj .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: none;\n  border-top-width: 1px;\n  border-top-color: #D5D5D5;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D5D5D5;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D5D5D5;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#eqgwchoroj .gt_stub {\n  color: #333333;\n  background-color: #89D3FE;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D5D5D5;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eqgwchoroj .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#eqgwchoroj .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#eqgwchoroj .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#eqgwchoroj .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eqgwchoroj .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #5F5F5F;\n}\n\n#eqgwchoroj .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#eqgwchoroj .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n}\n\n#eqgwchoroj .gt_grand_summary_row {\n  color: #333333;\n  background-color: #D5D5D5;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eqgwchoroj .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #5F5F5F;\n}\n\n#eqgwchoroj .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #5F5F5F;\n}\n\n#eqgwchoroj .gt_striped {\n  background-color: #EDF7FC;\n}\n\n#eqgwchoroj .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #5F5F5F;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n}\n\n#eqgwchoroj .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#eqgwchoroj .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eqgwchoroj .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#eqgwchoroj .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eqgwchoroj .gt_left {\n  text-align: left;\n}\n\n#eqgwchoroj .gt_center {\n  text-align: center;\n}\n\n#eqgwchoroj .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#eqgwchoroj .gt_font_normal {\n  font-weight: normal;\n}\n\n#eqgwchoroj .gt_font_bold {\n  font-weight: bold;\n}\n\n#eqgwchoroj .gt_font_italic {\n  font-style: italic;\n}\n\n#eqgwchoroj .gt_super {\n  font-size: 65%;\n}\n\n#eqgwchoroj .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#eqgwchoroj .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#eqgwchoroj .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#eqgwchoroj .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#eqgwchoroj .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#eqgwchoroj .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#eqgwchoroj .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"2\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>Progess of Endangered/Threatened species</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Status\">Status</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Number of species\">Number of species</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"condensed\" class=\"gt_row gt_center\">extinct</td>\n<td headers=\"n\" class=\"gt_row gt_right\">27</td></tr>\n    <tr><td headers=\"condensed\" class=\"gt_row gt_center gt_striped\">delisted</td>\n<td headers=\"n\" class=\"gt_row gt_right gt_striped\">64</td></tr>\n    <tr><td headers=\"condensed\" class=\"gt_row gt_center\">endangered</td>\n<td headers=\"n\" class=\"gt_row gt_right\">1440</td></tr>\n    <tr><td headers=\"condensed\" class=\"gt_row gt_center gt_striped\">Revision of listed entity</td>\n<td headers=\"n\" class=\"gt_row gt_right gt_striped\">2</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nNow let's change to percentages for optimal waffling\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnum_species <- nrow(endangered_df_sub)\nprogress_percent <- progress %>%\n  mutate(n = ( n/num_species) * 100)\n\nprogress_percent <- progress_percent %>%\n  mutate(n = round(n,1))\n\ngt(progress_percent) %>%\ncols_label(condensed = \"Status\", n = \"% of species\") %>%\n  opt_stylize(style = 6, color = \"blue\", add_row_striping = TRUE) %>%\n  tab_header(title = \"Progess of Endangered/Threatened species\") \n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"eugbsqviws\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#eugbsqviws table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#eugbsqviws thead, #eugbsqviws tbody, #eugbsqviws tfoot, #eugbsqviws tr, #eugbsqviws td, #eugbsqviws th {\n  border-style: none;\n}\n\n#eugbsqviws p {\n  margin: 0;\n  padding: 0;\n}\n\n#eugbsqviws .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #5F5F5F;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#eugbsqviws .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#eugbsqviws .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#eugbsqviws .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#eugbsqviws .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#eugbsqviws .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n}\n\n#eugbsqviws .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #5F5F5F;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#eugbsqviws .gt_col_heading {\n  color: #FFFFFF;\n  background-color: #0076BA;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#eugbsqviws .gt_column_spanner_outer {\n  color: #FFFFFF;\n  background-color: #0076BA;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#eugbsqviws .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#eugbsqviws .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#eugbsqviws .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#eugbsqviws .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#eugbsqviws .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #5F5F5F;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#eugbsqviws .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #5F5F5F;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n  vertical-align: middle;\n}\n\n#eugbsqviws .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#eugbsqviws .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#eugbsqviws .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: none;\n  border-top-width: 1px;\n  border-top-color: #D5D5D5;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D5D5D5;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D5D5D5;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#eugbsqviws .gt_stub {\n  color: #333333;\n  background-color: #89D3FE;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D5D5D5;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eugbsqviws .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#eugbsqviws .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#eugbsqviws .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#eugbsqviws .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eugbsqviws .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #5F5F5F;\n}\n\n#eugbsqviws .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#eugbsqviws .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n}\n\n#eugbsqviws .gt_grand_summary_row {\n  color: #333333;\n  background-color: #D5D5D5;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eugbsqviws .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #5F5F5F;\n}\n\n#eugbsqviws .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #5F5F5F;\n}\n\n#eugbsqviws .gt_striped {\n  background-color: #EDF7FC;\n}\n\n#eugbsqviws .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #5F5F5F;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n}\n\n#eugbsqviws .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#eugbsqviws .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eugbsqviws .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#eugbsqviws .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eugbsqviws .gt_left {\n  text-align: left;\n}\n\n#eugbsqviws .gt_center {\n  text-align: center;\n}\n\n#eugbsqviws .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#eugbsqviws .gt_font_normal {\n  font-weight: normal;\n}\n\n#eugbsqviws .gt_font_bold {\n  font-weight: bold;\n}\n\n#eugbsqviws .gt_font_italic {\n  font-style: italic;\n}\n\n#eugbsqviws .gt_super {\n  font-size: 65%;\n}\n\n#eugbsqviws .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#eugbsqviws .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#eugbsqviws .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#eugbsqviws .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#eugbsqviws .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#eugbsqviws .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#eugbsqviws .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"2\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>Progess of Endangered/Threatened species</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Status\">Status</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"% of species\">% of species</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"condensed\" class=\"gt_row gt_center\">extinct</td>\n<td headers=\"n\" class=\"gt_row gt_right\">1.8</td></tr>\n    <tr><td headers=\"condensed\" class=\"gt_row gt_center gt_striped\">delisted</td>\n<td headers=\"n\" class=\"gt_row gt_right gt_striped\">4.2</td></tr>\n    <tr><td headers=\"condensed\" class=\"gt_row gt_center\">endangered</td>\n<td headers=\"n\" class=\"gt_row gt_right\">93.9</td></tr>\n    <tr><td headers=\"condensed\" class=\"gt_row gt_center gt_striped\">Revision of listed entity</td>\n<td headers=\"n\" class=\"gt_row gt_right gt_striped\">0.1</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n\n```{.r .cell-code}\n#Values below 1 won't show in a waffle graph anyway, so remove them.\nprogress_percent <- progress_percent %>%\n  filter(n >= 1)\n```\n:::\n\n\nThe waffle package won't work with dataframes for me, so make it a vector.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nprogress_vec = deframe(progress_percent)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nwaffle::waffle(progress_vec, colors = c(\"black\", \"darkgreen\", \"darkred\"),\n               title = \"How has the US done with our Endangered species?\",\n               xlab = \"1 square = 1%\") \n```\n\n::: {.cell-output-display}\n![](day4_files/figure-html/waffle_chart-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "day4_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}