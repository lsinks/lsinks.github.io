{
  "hash": "5ecddb3e8a085eaa1e17ab9984451b61",
  "result": {
    "markdown": "---\ntitle: \"Tidy Tuesday: Daylight Savings Time\"\ndescription: \"TidyTuesday: Exploring Time Zones and Daylight Savings Time\"\ntwitter-card:\n  image: \"thumbnail.png\"\nauthor:\n  - name: Louise E. Sinks\n    url: https://lsinks.github.io/\ndate: 03-28-2023\ncategories: [R, TidyTuesday, R-code, Code-Along, Data-Viz, ggimage, maps] # self-defined categories\ncitation:\n  url: https://lsinks.github.io/posts/2023-03-28-tidytuesday-timezones/\nimage: \"thumbnail.png\"\ndraft: false # setting this to `true` will prevent your post from appearing on your listing page until you're ready!\n---\n\n\n[This week's TidyTuesday](https://github.com/rfordatascience/tidytuesday/blob/master/data/2023/2023-03-28/readme.md) is about the timezone data from [IANA timezone database](https://data.iana.org/time-zones/tz-link.html).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidytuesdayR)\nlibrary(tidyverse)\nlibrary(skimr)\nlibrary(ggthemes)\nlibrary(gt)\nlibrary(lubridate)\nlibrary(skimr)\nlibrary(lutz)\nlibrary(maps)\nlibrary(scales)\nlibrary(sf)\nlibrary(ggimage)\n```\n:::\n\n\nThe history of this database is fascinating. It is used by many computer systems to determine the correct time based on location. To learn more, I recommend reading [Daniel Rosehill's article on the topic](https://onezero.medium.com/the-largely-untold-story-of-how-one-guy-in-california-keeps-the-worlds-computers-on-the-right-time-a97a5493bf73). For a drier history, check out the [wikipedia article](https://en.wikipedia.org/wiki/Tz_database).\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Get the Data\n\n# Read in with tidytuesdayR package \n# This loads the readme and all the datasets for the week of interest\n\n# Either ISO-8601 date or year/week works!\n\n#tuesdata <- tidytuesdayR::tt_load('2023-03-21')\ntuesdata <- tidytuesdayR::tt_load(2023, week = 13)\n\ntransitions <- tuesdata$transitions\ntimezones <- tuesdata$timezones\ntimezone_countries <- tuesdata$timezone_countries\ncountries <- tuesdata$countries\n```\n:::\n\n\nIt is suggested that we change the begin and end variables in transitions to datetimes.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntransitions <- transitions %>%\n  mutate(begin = as_datetime(begin), end = as_datetime(end))\n```\n:::\n\n\nI was interested in how many countries had multiple times zones. I know the US has 4 time zones in the continental US.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnum_zones <- timezone_countries %>%\n  count(country_code, sort = TRUE)\n\nnum_zones %>% \n  filter(n > 1) %>%\n  left_join(countries) %>%\n  select(place_name, n) %>%\n  filter(place_name != \"NA\") %>%\n  gt() %>%\n  cols_label(place_name = \"Country\", n = \"Number of TZs\") %>%\n  opt_stylize(style = 6, color = \"blue\", add_row_striping = TRUE) %>%\n  tab_header(title = \"Countries with Multiple TZs\") \n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"eorjdmefof\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#eorjdmefof .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #5F5F5F;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#eorjdmefof .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#eorjdmefof .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#eorjdmefof .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#eorjdmefof .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#eorjdmefof .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n}\n\n#eorjdmefof .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #5F5F5F;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#eorjdmefof .gt_col_heading {\n  color: #FFFFFF;\n  background-color: #0076BA;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#eorjdmefof .gt_column_spanner_outer {\n  color: #FFFFFF;\n  background-color: #0076BA;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#eorjdmefof .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#eorjdmefof .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#eorjdmefof .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#eorjdmefof .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #5F5F5F;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#eorjdmefof .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #5F5F5F;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n  vertical-align: middle;\n}\n\n#eorjdmefof .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#eorjdmefof .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#eorjdmefof .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: none;\n  border-top-width: 1px;\n  border-top-color: #D5D5D5;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D5D5D5;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D5D5D5;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#eorjdmefof .gt_stub {\n  color: #333333;\n  background-color: #89D3FE;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D5D5D5;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eorjdmefof .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#eorjdmefof .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#eorjdmefof .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eorjdmefof .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #5F5F5F;\n}\n\n#eorjdmefof .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#eorjdmefof .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n}\n\n#eorjdmefof .gt_grand_summary_row {\n  color: #333333;\n  background-color: #D5D5D5;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eorjdmefof .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #5F5F5F;\n}\n\n#eorjdmefof .gt_striped {\n  background-color: #EDF7FC;\n}\n\n#eorjdmefof .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #5F5F5F;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n}\n\n#eorjdmefof .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#eorjdmefof .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eorjdmefof .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#eorjdmefof .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#eorjdmefof .gt_left {\n  text-align: left;\n}\n\n#eorjdmefof .gt_center {\n  text-align: center;\n}\n\n#eorjdmefof .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#eorjdmefof .gt_font_normal {\n  font-weight: normal;\n}\n\n#eorjdmefof .gt_font_bold {\n  font-weight: bold;\n}\n\n#eorjdmefof .gt_font_italic {\n  font-style: italic;\n}\n\n#eorjdmefof .gt_super {\n  font-size: 65%;\n}\n\n#eorjdmefof .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#eorjdmefof .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#eorjdmefof .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#eorjdmefof .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#eorjdmefof .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#eorjdmefof .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#eorjdmefof .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  <thead class=\"gt_header\">\n    <tr>\n      <td colspan=\"2\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>Countries with Multiple TZs</td>\n    </tr>\n    \n  </thead>\n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Country\">Country</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Number of TZs\">Number of TZs</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left\">United States</td>\n<td headers=\"n\" class=\"gt_row gt_right\">29</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left gt_striped\">Canada</td>\n<td headers=\"n\" class=\"gt_row gt_right gt_striped\">28</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left\">Russia</td>\n<td headers=\"n\" class=\"gt_row gt_right\">27</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left gt_striped\">Brazil</td>\n<td headers=\"n\" class=\"gt_row gt_right gt_striped\">16</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left\">Argentina</td>\n<td headers=\"n\" class=\"gt_row gt_right\">12</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left gt_striped\">Australia</td>\n<td headers=\"n\" class=\"gt_row gt_right gt_striped\">12</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left\">Mexico</td>\n<td headers=\"n\" class=\"gt_row gt_right\">11</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left gt_striped\">Kazakhstan</td>\n<td headers=\"n\" class=\"gt_row gt_right gt_striped\">7</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left\">Greenland</td>\n<td headers=\"n\" class=\"gt_row gt_right\">4</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left gt_striped\">Indonesia</td>\n<td headers=\"n\" class=\"gt_row gt_right gt_striped\">4</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left\">Ukraine</td>\n<td headers=\"n\" class=\"gt_row gt_right\">4</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left gt_striped\">Chile</td>\n<td headers=\"n\" class=\"gt_row gt_right gt_striped\">3</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left\">Spain</td>\n<td headers=\"n\" class=\"gt_row gt_right\">3</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left gt_striped\">Micronesia</td>\n<td headers=\"n\" class=\"gt_row gt_right gt_striped\">3</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left\">Kiribati</td>\n<td headers=\"n\" class=\"gt_row gt_right\">3</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left gt_striped\">Mongolia</td>\n<td headers=\"n\" class=\"gt_row gt_right gt_striped\">3</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left\">Malaysia</td>\n<td headers=\"n\" class=\"gt_row gt_right\">3</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left gt_striped\">French Polynesia</td>\n<td headers=\"n\" class=\"gt_row gt_right gt_striped\">3</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left\">Portugal</td>\n<td headers=\"n\" class=\"gt_row gt_right\">3</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left gt_striped\">US minor outlying islands</td>\n<td headers=\"n\" class=\"gt_row gt_right gt_striped\">3</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left\">Congo (Dem. Rep.)</td>\n<td headers=\"n\" class=\"gt_row gt_right\">2</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left gt_striped\">China</td>\n<td headers=\"n\" class=\"gt_row gt_right gt_striped\">2</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left\">Cyprus</td>\n<td headers=\"n\" class=\"gt_row gt_right\">2</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left gt_striped\">Germany</td>\n<td headers=\"n\" class=\"gt_row gt_right gt_striped\">2</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left\">Ecuador</td>\n<td headers=\"n\" class=\"gt_row gt_right\">2</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left gt_striped\">Marshall Islands</td>\n<td headers=\"n\" class=\"gt_row gt_right gt_striped\">2</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left\">New Zealand</td>\n<td headers=\"n\" class=\"gt_row gt_right\">2</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left gt_striped\">Papua New Guinea</td>\n<td headers=\"n\" class=\"gt_row gt_right gt_striped\">2</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left\">Palestine</td>\n<td headers=\"n\" class=\"gt_row gt_right\">2</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left gt_striped\">French Southern &amp; Antarctic Lands</td>\n<td headers=\"n\" class=\"gt_row gt_right gt_striped\">2</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left\">Uzbekistan</td>\n<td headers=\"n\" class=\"gt_row gt_right\">2</td></tr>\n    <tr><td headers=\"place_name\" class=\"gt_row gt_left gt_striped\">Vietnam</td>\n<td headers=\"n\" class=\"gt_row gt_right gt_striped\">2</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n\n\nAnd we find that the United States has 29!! time zones in the database. This was unexpected, so say the least. I thought maybe there were some times zones for territories and perhaps military bases that I did not know about. I also thought there might be some extra time zones arising from some states using daylight savings time, while others in the same area might not. I wanted to visualize where these times zones were.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nUS_tz <- timezone_countries %>% \n  filter(country_code == \"US\") %>%\n  left_join(timezones)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nJoining with `by = join_by(zone)`\n```\n:::\n:::\n\n\nI found the [lutz package](https://cran.r-project.org/web/packages/lutz/) created nice pictograms about when a timezone shifts from DST and back. (This package uses the same underlying database that we are using here to determine when the shifts occur.)\n\n\n::: {.cell}\n\n```{.r .cell-code}\n tz_plot(US_tz$zone[21])\n```\n\n::: {.cell-output-display}\n![](tidytuesday-timezones_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\nI created the plots and saved them as images. I modified a function I found on [stack overflow to create the file names](https://stackoverflow.com/questions/66324232/how-to-save-files-with-different-names-using-for-loops-in-r).\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwd <- getwd()\nfilepath = file.path(wd)\n\n\nmake_filename = function(number){\n  # doing this, putting it all on a single line or using pipe %>%\n  # is just matter of style\n  filename = paste(\"tzplot\", number, sep=\"_\")\n  filename = paste0(filename, \".png\")\n  filename = file.path(filepath, filename)\n  \n  filename\n}\n\n#creating a variable to store the files name\nUS_tz <- US_tz %>%\n  mutate(image_name = \"tbd\")\n\nindex <- 1\nfor (index in seq(1, nrow(US_tz))) {\n  filename = make_filename(index)\n  US_tz[index , \"image_name\"] <- filename\n  # 1. Open jpeg file\n  png(filename, width = 350, height = 350, bg = \"transparent\")\n  # 2. Create the plot\n  # you need to print the plot if you call it inside a loop\n  print(tz_plot(US_tz$zone[index]))\n  # 3. Close the file\n  dev.off()\n  index = index + 1\n}\n```\n:::\n\n\nNext I created a world map, inspired by the one from\n\n<blockquote class=\"twitter-tweet\">\n\n<p lang=\"en\" dir=\"ltr\">\n\nMy submission for <a href=\"https://twitter.com/hashtag/TidyTuesday?src=hash&ref_src=twsrc%5Etfw\">#TidyTuesday</a>, Week 13 on time zones. I plot time zones in the world map.<br><br>Code: <a href=\"https://t.co/y5Cm4tuaVk\">https://t.co/y5Cm4tuaVk</a> <a href=\"https://t.co/BZC3anC5Oa\">pic.twitter.com/BZC3anC5Oa</a>\n\n</p>\n\n--- Mitsuo Shiota (@mitsuoxv) <a href=\"https://twitter.com/mitsuoxv/status/1640514380600332290?ref_src=twsrc%5Etfw\">March 28, 2023</a>\n\n</blockquote>\n\n\n```{=html}\n<script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n```\n\nI hadn't previously used the [maps package](https://cran.r-project.org/web/packages/maps/), so I appreciate being introduced to it. The maps package only has a mainland US map, so I used the world map. (Plus, as I mentioned, I thought some of these time zones would be in other parts of the world.) I followed a tutorial on [Plotting Points as Images in ggplot](https://themockup.blog/posts/2020-10-11-embedding-images-in-ggplot/) and used the hints about aspect ratio to make my tz_plot circles remain circular. However, that did stretch the world a bit.\n\n\n::: {.cell}\n\n```{.r .cell-code}\naspect_ratio <- 1.618  \n\nus_tz_map <- map_data(\"world\") %>% \n  ggplot(aes(long, lat)) +\n  geom_polygon(aes(group = group), fill = \"white\", \n               color = \"gray30\", alpha = 0.9) +\n  geom_image(aes(x = longitude, latitude, image = image_name), \n             data = US_tz, size = 0.025, by = \"width\",\n             asp = aspect_ratio) +\n  coord_sf() +\n  labs(title = \"The United States has 29 Timezone- Mostly Redunant\",\n       caption = \"Data from: https://data.iana.org/time-zones/tz-link.html\") +\n  theme_void() +\n  theme(aspect.ratio = 1/aspect_ratio,\n    legend.position = \"bottom\",\n    plot.background = element_rect(fill = \"white\", color = \"white\")\n    )\n\nggsave(\"thumbnail.png\", us_tz_map, width = 5 * aspect_ratio, height = 5)\nus_tz_map\n```\n\n::: {.cell-output-display}\n![](tidytuesday-timezones_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\nAnd what we see is there are a bunch of redundant times zone specification, especially in the Midwest.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nUS_tz %>%\n  select(zone, latitude, longitude) %>%\n  arrange(longitude) %>%\n  gt() %>%\n  opt_stylize(style = 6, color = \"blue\", add_row_striping = TRUE) %>%\n  tab_header(title = \"Countries with Multiple TZs\") \n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"lrwakucyxm\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>html {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;\n}\n\n#lrwakucyxm .gt_table {\n  display: table;\n  border-collapse: collapse;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #5F5F5F;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#lrwakucyxm .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#lrwakucyxm .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#lrwakucyxm .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#lrwakucyxm .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 0;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#lrwakucyxm .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n}\n\n#lrwakucyxm .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #5F5F5F;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#lrwakucyxm .gt_col_heading {\n  color: #FFFFFF;\n  background-color: #0076BA;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#lrwakucyxm .gt_column_spanner_outer {\n  color: #FFFFFF;\n  background-color: #0076BA;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#lrwakucyxm .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#lrwakucyxm .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#lrwakucyxm .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#lrwakucyxm .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #5F5F5F;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#lrwakucyxm .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #5F5F5F;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n  vertical-align: middle;\n}\n\n#lrwakucyxm .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#lrwakucyxm .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#lrwakucyxm .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: none;\n  border-top-width: 1px;\n  border-top-color: #D5D5D5;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D5D5D5;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D5D5D5;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#lrwakucyxm .gt_stub {\n  color: #333333;\n  background-color: #89D3FE;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D5D5D5;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lrwakucyxm .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#lrwakucyxm .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#lrwakucyxm .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lrwakucyxm .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #5F5F5F;\n}\n\n#lrwakucyxm .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#lrwakucyxm .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n}\n\n#lrwakucyxm .gt_grand_summary_row {\n  color: #333333;\n  background-color: #D5D5D5;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lrwakucyxm .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #5F5F5F;\n}\n\n#lrwakucyxm .gt_striped {\n  background-color: #EDF7FC;\n}\n\n#lrwakucyxm .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #5F5F5F;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #5F5F5F;\n}\n\n#lrwakucyxm .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#lrwakucyxm .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-left: 4px;\n  padding-right: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lrwakucyxm .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#lrwakucyxm .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#lrwakucyxm .gt_left {\n  text-align: left;\n}\n\n#lrwakucyxm .gt_center {\n  text-align: center;\n}\n\n#lrwakucyxm .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#lrwakucyxm .gt_font_normal {\n  font-weight: normal;\n}\n\n#lrwakucyxm .gt_font_bold {\n  font-weight: bold;\n}\n\n#lrwakucyxm .gt_font_italic {\n  font-style: italic;\n}\n\n#lrwakucyxm .gt_super {\n  font-size: 65%;\n}\n\n#lrwakucyxm .gt_footnote_marks {\n  font-style: italic;\n  font-weight: normal;\n  font-size: 75%;\n  vertical-align: 0.4em;\n}\n\n#lrwakucyxm .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#lrwakucyxm .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#lrwakucyxm .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#lrwakucyxm .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#lrwakucyxm .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#lrwakucyxm .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\">\n  <thead class=\"gt_header\">\n    <tr>\n      <td colspan=\"3\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>Countries with Multiple TZs</td>\n    </tr>\n    \n  </thead>\n  <thead class=\"gt_col_headings\">\n    <tr>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"zone\">zone</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"latitude\">latitude</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"longitude\">longitude</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"zone\" class=\"gt_row gt_left\">America/Adak</td>\n<td headers=\"latitude\" class=\"gt_row gt_right\">52.66667</td>\n<td headers=\"longitude\" class=\"gt_row gt_right\">-177.13333</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left gt_striped\">America/Nome</td>\n<td headers=\"latitude\" class=\"gt_row gt_right gt_striped\">64.56667</td>\n<td headers=\"longitude\" class=\"gt_row gt_right gt_striped\">-165.78333</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left\">Pacific/Honolulu</td>\n<td headers=\"latitude\" class=\"gt_row gt_right\">21.71667</td>\n<td headers=\"longitude\" class=\"gt_row gt_right\">-158.35000</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left gt_striped\">America/Anchorage</td>\n<td headers=\"latitude\" class=\"gt_row gt_right gt_striped\">61.30000</td>\n<td headers=\"longitude\" class=\"gt_row gt_right gt_striped\">-149.91667</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left\">America/Yakutat</td>\n<td headers=\"latitude\" class=\"gt_row gt_right\">60.35000</td>\n<td headers=\"longitude\" class=\"gt_row gt_right\">-140.35000</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left gt_striped\">America/Sitka</td>\n<td headers=\"latitude\" class=\"gt_row gt_right gt_striped\">57.75000</td>\n<td headers=\"longitude\" class=\"gt_row gt_right gt_striped\">-135.41667</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left\">America/Juneau</td>\n<td headers=\"latitude\" class=\"gt_row gt_right\">58.41667</td>\n<td headers=\"longitude\" class=\"gt_row gt_right\">-134.60000</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left gt_striped\">America/Metlakatla</td>\n<td headers=\"latitude\" class=\"gt_row gt_right gt_striped\">55.73333</td>\n<td headers=\"longitude\" class=\"gt_row gt_right gt_striped\">-132.15000</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left\">America/Los_Angeles</td>\n<td headers=\"latitude\" class=\"gt_row gt_right\">34.18333</td>\n<td headers=\"longitude\" class=\"gt_row gt_right\">-118.80000</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left gt_striped\">America/Boise</td>\n<td headers=\"latitude\" class=\"gt_row gt_right gt_striped\">44.41667</td>\n<td headers=\"longitude\" class=\"gt_row gt_right gt_striped\">-116.35000</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left\">America/Phoenix</td>\n<td headers=\"latitude\" class=\"gt_row gt_right\">34.33333</td>\n<td headers=\"longitude\" class=\"gt_row gt_right\">-112.46667</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left gt_striped\">America/Denver</td>\n<td headers=\"latitude\" class=\"gt_row gt_right gt_striped\">40.08333</td>\n<td headers=\"longitude\" class=\"gt_row gt_right gt_striped\">-105.03333</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left\">America/North_Dakota/Beulah</td>\n<td headers=\"latitude\" class=\"gt_row gt_right\">48.10000</td>\n<td headers=\"longitude\" class=\"gt_row gt_right\">-102.43333</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left gt_striped\">America/North_Dakota/Center</td>\n<td headers=\"latitude\" class=\"gt_row gt_right gt_striped\">48.08333</td>\n<td headers=\"longitude\" class=\"gt_row gt_right gt_striped\">-102.23333</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left\">America/North_Dakota/New_Salem</td>\n<td headers=\"latitude\" class=\"gt_row gt_right\">47.53333</td>\n<td headers=\"longitude\" class=\"gt_row gt_right\">-102.05000</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left gt_striped\">America/Menominee</td>\n<td headers=\"latitude\" class=\"gt_row gt_right gt_striped\">45.56667</td>\n<td headers=\"longitude\" class=\"gt_row gt_right gt_striped\">-88.45000</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left\">America/Indiana/Vincennes</td>\n<td headers=\"latitude\" class=\"gt_row gt_right\">39.30000</td>\n<td headers=\"longitude\" class=\"gt_row gt_right\">-88.23333</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left gt_striped\">America/Indiana/Petersburg</td>\n<td headers=\"latitude\" class=\"gt_row gt_right gt_striped\">39.00000</td>\n<td headers=\"longitude\" class=\"gt_row gt_right gt_striped\">-87.98333</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left\">America/Chicago</td>\n<td headers=\"latitude\" class=\"gt_row gt_right\">41.85000</td>\n<td headers=\"longitude\" class=\"gt_row gt_right\">-87.65000</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left gt_striped\">America/Indiana/Tell_City</td>\n<td headers=\"latitude\" class=\"gt_row gt_right gt_striped\">38.13333</td>\n<td headers=\"longitude\" class=\"gt_row gt_right gt_striped\">-87.43333</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left\">America/Indiana/Knox</td>\n<td headers=\"latitude\" class=\"gt_row gt_right\">42.03333</td>\n<td headers=\"longitude\" class=\"gt_row gt_right\">-87.11667</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left gt_striped\">America/Indiana/Marengo</td>\n<td headers=\"latitude\" class=\"gt_row gt_right gt_striped\">38.90000</td>\n<td headers=\"longitude\" class=\"gt_row gt_right gt_striped\">-87.01667</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left\">America/Indiana/Winamac</td>\n<td headers=\"latitude\" class=\"gt_row gt_right\">41.13333</td>\n<td headers=\"longitude\" class=\"gt_row gt_right\">-86.78333</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left gt_striped\">America/Indiana/Indianapolis</td>\n<td headers=\"latitude\" class=\"gt_row gt_right gt_striped\">39.86667</td>\n<td headers=\"longitude\" class=\"gt_row gt_right gt_striped\">-86.63333</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left\">America/Kentucky/Louisville</td>\n<td headers=\"latitude\" class=\"gt_row gt_right\">38.50000</td>\n<td headers=\"longitude\" class=\"gt_row gt_right\">-86.31667</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left gt_striped\">America/Kentucky/Monticello</td>\n<td headers=\"latitude\" class=\"gt_row gt_right gt_striped\">37.60000</td>\n<td headers=\"longitude\" class=\"gt_row gt_right gt_striped\">-85.78333</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left\">America/Indiana/Vevay</td>\n<td headers=\"latitude\" class=\"gt_row gt_right\">39.60000</td>\n<td headers=\"longitude\" class=\"gt_row gt_right\">-85.10000</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left gt_striped\">America/Detroit</td>\n<td headers=\"latitude\" class=\"gt_row gt_right gt_striped\">43.20000</td>\n<td headers=\"longitude\" class=\"gt_row gt_right gt_striped\">-83.78333</td></tr>\n    <tr><td headers=\"zone\" class=\"gt_row gt_left\">America/New_York</td>\n<td headers=\"latitude\" class=\"gt_row gt_right\">41.55000</td>\n<td headers=\"longitude\" class=\"gt_row gt_right\">-74.38333</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n:::\n:::\n",
    "supporting": [
      "tidytuesday-timezones_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}